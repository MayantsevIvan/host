<!DOCTYPE html>
<html>
	<head>
		<title> игра Твои Сокровища </title>
		<meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="pixi.min.js"> </script>
		<script src="pixi-sound.js"> </script>
		<script src="TweenMax.min.js"> </script>
		<style>
		    html,head,body {
			    padding: 0px;
			    margin: 0px;
				/*overflow: none;*/
			}
		</style>
	</head>
	<body>
		<script>
			let isMobile = true;
			
			let pixiAppWidth  = 760;
			let pixiAppHeight = 610;
			//if ( isMobile ) pixiAppHeight = window.innerHeight;
			let visibleWidth = 450;
			let visibleHeight = 720;
			let pixiAppScaleMobile = 0;
 			const cw = window.innerWidth  || document.body.clientWidth;
			const ch = window.innerHeight || document.body.clientHeight;
			//console.log("cw ch",cw,ch);
			console.log("VER 1.12");
			//let pixiAppScaleMobile = window.innerWidth/pixiAppWidth;
			
		
			let ew = Math.floor(10*cw / pixiAppWidth);
			let scalew = Math.floor( ew / 2 ) * 0.2;
			let eh = Math.floor(10*ch / pixiAppHeight);
			let scaleh = Math.floor( eh / 2 ) * 0.2;
			let scale = Math.min(scalew,scaleh,3);
		
			const pixiAppScale  = Math.max(1.0,scale);
		    const pixiApp = new PIXI.Application({
		        width  : pixiAppWidth,//  * pixiAppScale,
				height : pixiAppHeight,// * pixiAppScale,
				backgroundColor : 0x1099bb,
				//autoResize: true,
				//resolution : window.devicePixelRatio || 1,
				resolution : 1,
		    });
		    document.body.appendChild(pixiApp.view);
			
			const graphics = new PIXI.Graphics();
            graphics.beginFill(0xFF3300);
            graphics.drawRect(0, 0, pixiAppWidth, pixiAppHeight);
            graphics.endFill();
            pixiApp.stage.addChild( graphics );
			
			const graphics1 = new PIXI.Graphics();
            graphics1.beginFill(0x33FF00);
			graphics1.lineStyle();
            graphics1.drawRect(0, 0, visibleWidth, pixiAppHeight);
            graphics1.endFill();
			graphics1.x = (pixiAppWidth - visibleWidth)/2;
            pixiApp.stage.addChild( graphics1 );
			
			
			let shScreenX = 0;
			let shScreenY = 0;
			let plansh = false;
			let canvas = document.querySelector('canvas');
			if ( isMobile ) {
				//let pixiAppScaleMobile = window.innerWidth/pixiAppWidth;
				//let pixiAppScaleMobile = cw/pixiAppWidth;
				//let pixiAppScaleMobile = cw/visibleWidth;
				pixiAppScaleMobile = Math.min( cw/visibleWidth, ch/visibleHeight );
				//console.log("graphics1",graphics1.height);
			    //pixiApp.renderer.resize( pixiAppWidth  * pixiAppScaleMobile, pixiAppHeight * pixiAppScaleMobile );
			    pixiApp.renderer.resize( pixiAppWidth  * pixiAppScaleMobile, ch );
		
				pixiApp.stage.scale.x = pixiAppScaleMobile;
			    pixiApp.stage.scale.y = pixiApp.stage.scale.x;
				if ( cw / visibleWidth > ch / visibleHeight ) {
					visibleWidth = Math.floor( cw * visibleHeight / ch );
					plansh = true;
				};
				shScreenX = Math.floor(( pixiAppWidth - visibleWidth ) * pixiAppScaleMobile/2);
				//console.log('visibleWidth',visibleWidth);
				//console.log('pixiApp.width',(cw - visibleWidth)/2);
				pixiApp.stage.x = -shScreenX;
				shScreenY = Math.floor((ch - pixiApp.stage.height)/2);
				pixiApp.stage.y = shScreenY;
				//console.log('pixiAppScaleMobile',pixiAppScaleMobile);
				//console.log(pixiApp.stage.height);
				
				//let pixiMobAppScale  = Math.min( window.innerWidth/pixiAppWidth, window.innerHeight/pixiAppHeight*1.16);
			    // let pixiMobAppScale  = window.innerWidth/pixiAppWidth*1.5;
			    // 
			    //let pixiMobAppScale  = window.innerWidth/pixiAppWidth;
				//console.log(pixiMobAppScale);
				
			    // let pixiMobAppScale  = window.innerWidth/pixiAppWidth;
			    //pixiApp.stage.scale.x = pixiMobAppScale;
			    //pixiApp.stage.scale.y = pixiMobAppScale;
		        /*if ( canvas ) {
					//canvas.width  = pixiAppWidth * pixiMobAppScale;//pixiApp.stage.width;
					//canvas.height = pixiAppHeight * pixiMobAppScale;
          
					canvas.style.width  = pixiAppWidth  * pixiMobAppScale + "px";
		            canvas.style.height = pixiAppHeight * pixiMobAppScale + "px";
					
					
		        }*/
			} else {
			    pixiApp.stage.scale.x = pixiAppScale;
			    pixiApp.stage.scale.y = pixiAppScale;
		        if ( canvas ) {
					canvas.width  = pixiAppWidth  * pixiApp.stage.scale.x;//pixiApp.stage.width;
					canvas.height = pixiAppHeight * pixiApp.stage.scale.y;//pixiApp.stage.height;
					canvas.style.width  = canvas.width  + "px";
					canvas.style.height = canvas.height + "px";
		        }
            }
			//console.log( "pixiApp.screen.width", pixiApp.screen.width );
			//console.log( "pixiApp.screen.height", pixiApp.screen.height );
			
		</script>
		
		<script src="ImageLoader.js"></script>
		<script src="Head.js"></script>
		<script src="CWinds.js"></script>	
		<script src="Actions.js"></script>	
		<script src="Handler.js"></script>  
		<script src="Langs.js"></script>
		<script src="Consts.js"></script>
		<script src="Log.js"></script>
		<script src="winds/windMenuLevel/menuLevelPoint.js"></script>
		<script src="BottomPanel.js"></script>
	    <script src="BackClient.js"></script>
		<script src="winds/windBeforeLevel/TaskBeforeLevel.js"></script>
	    <script src="game/Embeds.js"></script>
	    <script src="game/EndLevelAnimator.js"></script>
	    <script src="game/FlyPoints.js"></script>
	    <script src="game/GameHelper.js"></script>
	    <script src="winds/windgame/ButBonus.js"></script>
	    <script src="winds/windgame/StepsPanel.js"></script>
	    <script src="winds/windgame/PointsPanel.js"></script>
	    <script src="winds/windgame/TaskPanel.js"></script>
	    <script src="game/JTweenJL.js"></script>
	    <script src="game/Detonations.js"></script>
	    <script src="game/CBox.js"></script>
	    <script src="User.js"></script>
	    <script src="game/Sounds.js"></script>
	    <script src="game/GameTypes.js"></script>
	    <script src="game/Tutorial.js"></script>
	    <script src="game/JLines.js"></script>
	    <script src="winds/CWindMenuLevels.js"></script>
	    <script src="winds/CWindFullScreen.js"></script>
	    <script src="winds/CWindBuyCoins.js"></script>
	    <script src="winds/CWindBuyLives.js"></script>
	    <script src="winds/CWindBuyBooster.js"></script>
	    <script src="winds/CWindPuzzle.js"></script>
	    <script src="winds/CWindSmallRating.js"></script>
	    <script src="winds/CWindBeforeLevel.js"></script>
	    <script src="winds/CWindEndLevel.js"></script>
	    <script src="winds/CWindMyScore.js"></script>
	    <script src="winds/CWindAcBooster.js"></script>
	    <script src="winds/CWindFrInvited.js"></script>
	    <script src="winds/CWindAc4.js"></script>
	    <script src="winds/CWindAc5Steps.js"></script>
	    <script src="winds/CWindAcFriends.js"></script>
	    <script src="winds/CWindSmallAcInv.js"></script>
	    <script src="winds/CWindAcInvToGame.js"></script>
	    <script src="winds/CWindAction0.js"></script>
	    <script src="winds/CWindAction1.js"></script>
	    <script src="winds/CWindDailyBonus.js"></script>
	    <script src="winds/CWindStepsLeft.js"></script>
	    <script src="winds/CWindAcInvite.js"></script>
	    <script src="winds/CWindM.js"></script>
	    <script src="winds/CWindGame.js"></script>
	    <script src="winds/CWindMsg.js"></script>
	    <script src="winds/CWindLoader.js"></script>
		<script src="Config.js"></script>
		<script src="SocialClient.js"></script>
		<script src="main.js"></script>
		
	</body>
</html>
